// markdownlint-cli2 configuration for RFC-Shared-Agent-Scaffolding
// See: docs/contributing/markdown-contracts.md for the canonical contract
// This configuration enforces Markdown Best Practices

{
  "config": {
    // ==========================================
    // Heading Rules
    // ==========================================
    
    // MD001: Heading levels must increment by one
    // Best Practice: Proper hierarchy for accessibility and navigation
    "MD001": true,
    
    // MD003: Heading style (ATX: #, not Setext: underlines)
    // Best Practice: ATX headings are more widely supported
    "MD003": { "style": "atx" },
    
    // MD018: Space required after # in headings
    "MD018": true,
    
    // MD019: No multiple spaces after # in headings
    "MD019": true,
    
    // MD020: Space required before closing # in ATX closed headings
    "MD020": true,
    
    // MD021: No multiple spaces in ATX closed headings
    "MD021": true,
    
    // MD022: Headings must be surrounded by blank lines
    // Best Practice: Ensures consistent rendering across processors
    "MD022": true,
    
    // MD023: Headings must start at beginning of line
    "MD023": true,
    
    // MD024: Allow duplicate headings in different sections
    // Rationale: "Overview" may appear in multiple sections with different context
    "MD024": false,
    
    // MD025: Single H1 per document
    // Best Practice: Document structure and SEO
    "MD025": true,
    
    // MD026: No trailing punctuation in headings
    // Best Practice: Headings are titles, not sentences
    "MD026": { "punctuation": ".,;:!?" },
    
    // MD041: First line should be H1
    // Best Practice: Provides immediate context
    "MD041": true,
    
    // MD043: Required headings - DISABLED (too restrictive)
    "MD043": false,
    
    // ==========================================
    // Line Length
    // ==========================================
    
    // MD013: Line length limit
    // Policy: 120 chars (extended from default 80 for technical docs)
    // Exceptions: code blocks, tables automatically excluded
    "MD013": {
      "line_length": 120,
      "code_blocks": false,  // Code blocks exempt (can exceed 120)
      "tables": false,        // Tables exempt
      "headings": true,       // Headings checked (but relaxed in practice)
      "strict": false,        // Allow some flexibility
      "stern": false
    },
    
    // ==========================================
    // Code Blocks
    // ==========================================
    
    // MD040: Code blocks must specify language
    // Best Practice: Enables syntax highlighting and clarifies purpose
    "MD040": true,
    
    // MD046: Use fenced code blocks, not indented
    // Best Practice: Fenced blocks support language tags and work in lists
    "MD046": { "style": "fenced" },
    
    // MD048: Use backticks for fences, not tildes
    // Best Practice: Backticks more common and widely recognized
    "MD048": { "style": "backtick" },
    
    // ==========================================
    // Whitespace
    // ==========================================
    
    // MD009: No trailing spaces
    // Best Practice: Invisible, cause noisy diffs
    "MD009": {
      "br_spaces": 0,  // Don't allow 2-space line breaks (use <br> instead)
      "list_item_empty_lines": false,
      "strict": false
    },
    
    // MD010: No hard tabs (use spaces)
    // Best Practice: Tabs render inconsistently
    "MD010": {
      "code_blocks": false  // Allow tabs in code blocks if needed
    },
    
    // MD012: No multiple consecutive blank lines
    // Best Practice: Reduces noise
    "MD012": { "maximum": 1 },
    
    // MD027: No multiple spaces after blockquote marker
    "MD027": true,
    
    // MD028: No blank lines inside blockquote
    "MD028": true,
    
    // MD047: Files must end with single newline
    // Best Practice: POSIX standard
    "MD047": true,
    
    // ==========================================
    // Lists
    // ==========================================
    
    // MD004: Unordered list style (dash)
    // Best Practice: Dashes most readable and widely used
    "MD004": { "style": "dash" },
    
    // MD005: Consistent list indentation
    "MD005": true,
    
    // MD006: Unordered lists must start at beginning of line
    "MD006": true,
    
    // MD007: Unordered list indentation (2 spaces)
    // Best Practice: Standard Markdown convention
    "MD007": {
      "indent": 2,
      "start_indented": false
    },
    
    // MD029: Ordered list prefix style (sequential numbers)
    // Best Practice: Source readability matches rendered output
    "MD029": { "style": "ordered" },
    
    // MD030: Spaces after list markers (1 space)
    "MD030": {
      "ul_single": 1,
      "ul_multi": 1,
      "ol_single": 1,
      "ol_multi": 1
    },
    
    // MD032: Lists must be surrounded by blank lines
    // Best Practice: Ensures proper list recognition
    "MD032": true,
    
    // ==========================================
    // Links and Images
    // ==========================================
    
    // MD011: No reversed links
    "MD011": true,
    
    // MD034: No bare URLs (must be wrapped)
    // Best Practice: Ensures links are clickable
    "MD034": true,
    
    // MD039: No spaces in link URLs
    "MD039": true,
    
    // MD042: No empty links
    // Best Practice: Accessibility - links need descriptive text
    "MD042": true,
    
    // MD044: Proper names - DISABLED (too opinionated)
    "MD044": false,
    
    // MD045: Images should have alt text
    // Best Practice: Accessibility (WCAG 2.1)
    // Set to warning level to allow decorative images
    "MD045": true,
    
    // MD051: Link fragments should exist
    // Warning level - requires full link checking infrastructure
    "MD051": false,
    
    // ==========================================
    // HTML in Markdown
    // ==========================================
    
    // MD033: Inline HTML allowed but minimized
    // Best Practice: Prefer Markdown, use HTML only when necessary
    "MD033": {
      "allowed_elements": [
        "details",
        "summary",
        "kbd",
        "br",
        "sub",
        "sup",
        "dl",
        "dt",
        "dd"
      ]
    },
    
    // ==========================================
    // Emphasis and Inline Formatting
    // ==========================================
    
    // MD036: No emphasis as heading
    // Best Practice: Use proper heading syntax
    "MD036": true,
    
    // MD037: No spaces inside emphasis markers
    "MD037": true,
    
    // MD049: Emphasis style (asterisks)
    // Best Practice: Asterisks work in more contexts
    "MD049": { "style": "asterisk" },
    
    // MD050: Strong style (asterisks)
    "MD050": { "style": "asterisk" }
  },
  
  // ==========================================
  // File Selection
  // ==========================================
  
  "globs": [
    "**/*.md"
  ],
  
  // ==========================================
  // Exclusions
  // ==========================================
  
  "ignores": [
    // Generated CI failure reports (machine-generated, not human-authored)
    "repo-lint-failure-reports/**/*.md",
    
    // Node.js dependencies (if any)
    "node_modules/**",
    
    // Python virtual environment
    ".venv/**",
    "venv/**",
    
    // Build artifacts
    "target/**",
    "dist/**",
    "build/**"
  ]
}
